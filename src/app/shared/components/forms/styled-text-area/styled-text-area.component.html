<div class="flex flex-col gap-2">
  @if (label) {
    <label
      [for]="id"
      class="flex items-center gap-1"
      [class.text-error]="errorMessages.length > 0"
      [class.text-success]="!errorMessages.length && value"
    >
      {{ label }}
      @if (errorMessages.length > 0) {
        <i-lucide [img]="ErrorIcon" class="h-4 w-4" />
      } @else if (value) {
        <i-lucide [img]="CheckIcon" class="h-4 w-4" />
      }
    </label>
  }

  <textarea
    [name]="name"
    [id]="id"
    [placeholder]="placeholder"
    [value]="value"
    (input)="onInput($event)"
    class="border-text/50 textase rounded border-2 bg-transparent p-2 outline-none transition-all placeholder:font-light focus:border-2 focus:border-primary dark:border-charcoal dark:focus:border-primary-dark"
    [class.!border-error]="errorMessages.length > 0"
    [class.!border-success]="value && !errorMessages.length"
  ></textarea>

  @if (errorMessages.length > 0) {
    <span class="flex gap-1 text-xs font-light !leading-none text-error">
      {{ errorMessages.join(', ') }}.
    </span>
  }
</div>
